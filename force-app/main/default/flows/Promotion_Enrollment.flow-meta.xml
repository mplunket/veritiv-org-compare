<?xml version="1.0" encoding="UTF-8"?>
<Flow xmlns="http://soap.sforce.com/2006/04/metadata">
    <apiVersion>49.0</apiVersion>
    <decisions>
        <description>Bounced or Opt out variables. Decision so that way you can show an error page</description>
        <name>Bounced_or_Opt_out</name>
        <label>Bounced or Opt out Or not USA</label>
        <locationX>853</locationX>
        <locationY>185</locationY>
        <defaultConnector>
            <targetReference>Enter_Sender_Recipient_Information</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Error</name>
            <conditionLogic>1 OR 2 OR 3 OR 4 OR 5 OR (6 AND 7 AND 8)</conditionLogic>
            <conditions>
                <leftValueReference>vBouncedBoolean</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>vOptOutBoolean</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>vLeadBouncedDate</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>vCustomBouncedBoolean</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>vSyncWithMarketingBoolean</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>vCountry</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue>USA</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>vCountry</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue>US</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>vCountry</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue>United States</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>ErrorScreen</targetReference>
            </connector>
            <label>Error</label>
        </rules>
    </decisions>
    <decisions>
        <name>Contact_or_Lead</name>
        <label>Contact or Lead?</label>
        <locationX>582</locationX>
        <locationY>59</locationY>
        <defaultConnector>
            <targetReference>Find_Lead_Info</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Contact</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>fLeadOrContact</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Contact</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Find_Contact_Info</targetReference>
            </connector>
            <label>Contact</label>
        </rules>
    </decisions>
    <decisions>
        <description>Dupe of the previous decision (cloning not supported in cloud flow designer)</description>
        <name>ContactOrLead2</name>
        <label>ContactOrLead2</label>
        <locationX>1244</locationX>
        <locationY>54</locationY>
        <defaultConnector>
            <targetReference>Update_Lead</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Contact2</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>fLeadOrContact</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Contact</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_Contact</targetReference>
            </connector>
            <label>Contact?</label>
        </rules>
    </decisions>
    <decisions>
        <description>Checks if the dupe query was positive</description>
        <name>Dupe</name>
        <label>Dupe?</label>
        <locationX>316</locationX>
        <locationY>51</locationY>
        <defaultConnector>
            <targetReference>Contact_or_Lead</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Duplicate</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>vFoundPromoMemberId</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Duplicate_Found</targetReference>
            </connector>
            <label>Duplicate</label>
        </rules>
    </decisions>
    <description>Screen flow for sales reps to auto enroll customers
Latest version removes reference to Recipient Email on Lead</description>
    <formulas>
        <description>Chooses the correct error message text template based on which criteria the lead/contact failed to meet</description>
        <name>fErrorMessageToDisplay</name>
        <dataType>String</dataType>
        <expression>IF(
AND(
{!vCountry}&lt;&gt;&quot;US&quot;,
{!vCountry}&lt;&gt;&quot;USA&quot;,
{!vCountry}&lt;&gt;&quot;United States&quot;),
{!ttForeignCountryError},
{!ttInvalidOrOptOut})</expression>
    </formulas>
    <formulas>
        <description>&quot;Contact&quot; if Contact
&quot;Lead&quot; if Lead</description>
        <name>fLeadOrContact</name>
        <dataType>String</dataType>
        <expression>IF(LEFT({!vLeadOrContactID},3)=&quot;003&quot;,&quot;Contact&quot;,&quot;Lead&quot;)</expression>
    </formulas>
    <formulas>
        <description>custom label with html</description>
        <name>fLeanHTMLLabel</name>
        <dataType>String</dataType>
        <expression>{!$Label.LEAN_Campaign_Email_1}</expression>
    </formulas>
    <formulas>
        <description>Line break test</description>
        <name>fLineBreak</name>
        <dataType>String</dataType>
        <expression>&quot; &quot;</expression>
    </formulas>
    <formulas>
        <description>Value of the custom label (which should be a promotion ID) to add to the campaign</description>
        <name>fPromoLabelID</name>
        <dataType>String</dataType>
        <expression>{!$Label.EnrollmentFlowPromoID}</expression>
    </formulas>
    <formulas>
        <description>Formula to remove multiple line breaks based on how the signature is saved to the record</description>
        <name>fRichTextLineBreak</name>
        <dataType>String</dataType>
        <expression>SUBSTITUTE({!vRichTextOutput},&quot;&lt;br/&gt;&lt;br/&gt;&quot;,&quot;&lt;br/&gt;&quot;)</expression>
    </formulas>
    <formulas>
        <description>Formula to show the running user&apos;s id to then use in a lookup</description>
        <name>fUserID</name>
        <dataType>String</dataType>
        <expression>{!$User.Id}</expression>
    </formulas>
    <interviewLabel>Promotion Enrollment {!$Flow.CurrentDateTime}</interviewLabel>
    <label>Promotion Enrollment</label>
    <processMetadataValues>
        <name>BuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>OriginBuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processType>Flow</processType>
    <recordCreates>
        <description>Adds the contact to the campaign</description>
        <name>Add_to_Campaign</name>
        <label>Add to Campaign (C)</label>
        <locationX>1551</locationX>
        <locationY>50</locationY>
        <assignRecordIdToReference>vCreatedCampaignMemberID</assignRecordIdToReference>
        <connector>
            <targetReference>CampaignMember_Sender</targetReference>
        </connector>
        <faultConnector>
            <targetReference>Failure</targetReference>
        </faultConnector>
        <inputAssignments>
            <field>CampaignId</field>
            <value>
                <elementReference>fPromoLabelID</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>ContactId</field>
            <value>
                <elementReference>vLeadOrContactID</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Status</field>
            <value>
                <stringValue>Sent</stringValue>
            </value>
        </inputAssignments>
        <object>CampaignMember</object>
    </recordCreates>
    <recordCreates>
        <description>Adds the lead to the campaign</description>
        <name>Add_to_Campaign_L</name>
        <label>Add to Campaign (L)</label>
        <locationX>1458</locationX>
        <locationY>224</locationY>
        <assignRecordIdToReference>vCreatedCampaignMemberID</assignRecordIdToReference>
        <connector>
            <targetReference>CampaignMember_Sender</targetReference>
        </connector>
        <faultConnector>
            <targetReference>Failure</targetReference>
        </faultConnector>
        <inputAssignments>
            <field>CampaignId</field>
            <value>
                <elementReference>fPromoLabelID</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>LeadId</field>
            <value>
                <elementReference>vLeadOrContactID</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Status</field>
            <value>
                <stringValue>Sent</stringValue>
            </value>
        </inputAssignments>
        <object>CampaignMember</object>
    </recordCreates>
    <recordLookups>
        <description>Searches for contact/lead campaign members that already have this member id</description>
        <name>Dupe_Query</name>
        <label>Dupe Query</label>
        <locationX>196</locationX>
        <locationY>50</locationY>
        <assignNullValuesIfNoRecordsFound>true</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Dupe</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>CampaignId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>fPromoLabelID</elementReference>
            </value>
        </filters>
        <filters>
            <field>LeadOrContactId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>vLeadOrContactID</elementReference>
            </value>
        </filters>
        <object>CampaignMember</object>
        <outputAssignments>
            <assignToReference>vFoundPromoMemberId</assignToReference>
            <field>Id</field>
        </outputAssignments>
    </recordLookups>
    <recordLookups>
        <description>Queries the contact object and return fields to reference in the flow</description>
        <name>Find_Contact_Info</name>
        <label>Find Contact Info</label>
        <locationX>445</locationX>
        <locationY>295</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Sender_Info</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>vLeadOrContactID</elementReference>
            </value>
        </filters>
        <object>Contact</object>
        <outputAssignments>
            <assignToReference>vAccountName</assignToReference>
            <field>Account_Name_Formula__c</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>vRecipientEmail</assignToReference>
            <field>Email</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>vRecipientFirst</assignToReference>
            <field>FirstName</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>vCustomBouncedBoolean</assignToReference>
            <field>HasBounced__c</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>vOptOutBoolean</assignToReference>
            <field>HasOptedOutOfEmail</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>vBouncedBoolean</assignToReference>
            <field>IsEmailBounced</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>vRecipientLast</assignToReference>
            <field>LastName</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>vCountry</assignToReference>
            <field>MailingCountry</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>vSyncWithMarketingBoolean</assignToReference>
            <field>Sync_with_Marketing_Automation__c</field>
        </outputAssignments>
    </recordLookups>
    <recordLookups>
        <description>pulls back recipient info if the recipient is a lead</description>
        <name>Find_Lead_Info</name>
        <label>Find Lead Info</label>
        <locationX>667</locationX>
        <locationY>353</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Sender_Info</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>vLeadOrContactID</elementReference>
            </value>
        </filters>
        <object>Lead</object>
        <outputAssignments>
            <assignToReference>vAccountName</assignToReference>
            <field>Company</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>vCountry</assignToReference>
            <field>Country</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>vRecipientEmail</assignToReference>
            <field>Email</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>vLeadBouncedDate</assignToReference>
            <field>EmailBouncedDate</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>vRecipientFirst</assignToReference>
            <field>FirstName</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>vCustomBouncedBoolean</assignToReference>
            <field>HasBounced__c</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>vOptOutBoolean</assignToReference>
            <field>HasOptedOutOfEmail</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>vRecipientLast</assignToReference>
            <field>LastName</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>vSyncWithMarketingBoolean</assignToReference>
            <field>Sync_with_Marketing_Automation__c</field>
        </outputAssignments>
    </recordLookups>
    <recordLookups>
        <description>Finds the running users info to use on screen 1:</description>
        <name>Sender_Info</name>
        <label>Sender Info</label>
        <locationX>793</locationX>
        <locationY>52</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Bounced_or_Opt_out</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>fUserID</elementReference>
            </value>
        </filters>
        <object>User</object>
        <outputAssignments>
            <assignToReference>vSenderEmail</assignToReference>
            <field>Email</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>vSenderFirst</assignToReference>
            <field>FirstName</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>vSenderLast</assignToReference>
            <field>LastName</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>vSenderPhone</assignToReference>
            <field>Phone</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>vSenderTitle</assignToReference>
            <field>Title</field>
        </outputAssignments>
    </recordLookups>
    <recordUpdates>
        <description>Sets the sender email on the campaign member object for workflow rule purpose</description>
        <name>CampaignMember_Sender</name>
        <label>CampaignMember Sender</label>
        <locationX>1723</locationX>
        <locationY>157</locationY>
        <connector>
            <targetReference>Success</targetReference>
        </connector>
        <faultConnector>
            <targetReference>Failure</targetReference>
        </faultConnector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>vCreatedCampaignMemberID</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>Sender_Email__c</field>
            <value>
                <elementReference>vSenderEmail</elementReference>
            </value>
        </inputAssignments>
        <object>CampaignMember</object>
    </recordUpdates>
    <recordUpdates>
        <description>Updates the contact (pilot version of flow)</description>
        <name>Update_Contact</name>
        <label>Update Contact</label>
        <locationX>1405</locationX>
        <locationY>49</locationY>
        <connector>
            <targetReference>Add_to_Campaign</targetReference>
        </connector>
        <faultConnector>
            <targetReference>Failure</targetReference>
        </faultConnector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>vLeadOrContactID</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>Email</field>
            <value>
                <elementReference>vRecipientEmail</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>FirstName</field>
            <value>
                <elementReference>Recipient_First_Name</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>First_Email_Body__c</field>
            <value>
                <elementReference>fRichTextLineBreak</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>LastName</field>
            <value>
                <elementReference>Recipient_Last_Name</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Sender_Email__c</field>
            <value>
                <elementReference>vSenderEmail</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Sender_First__c</field>
            <value>
                <elementReference>Sender_First_Name</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Sender_Last__c</field>
            <value>
                <elementReference>Sender_Last_Name</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Sender_Phone__c</field>
            <value>
                <elementReference>vSenderPhone</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Sender_Title__c</field>
            <value>
                <elementReference>Sender_Title</elementReference>
            </value>
        </inputAssignments>
        <object>Contact</object>
    </recordUpdates>
    <recordUpdates>
        <description>Update the lead that started this process with all enrollment fields</description>
        <name>Update_Lead</name>
        <label>Update Lead</label>
        <locationX>1261</locationX>
        <locationY>224</locationY>
        <connector>
            <targetReference>Add_to_Campaign_L</targetReference>
        </connector>
        <faultConnector>
            <targetReference>Failure</targetReference>
        </faultConnector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>vLeadOrContactID</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>Email</field>
            <value>
                <elementReference>vRecipientEmail</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>FirstName</field>
            <value>
                <elementReference>Recipient_First_Name</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>First_Email_Body__c</field>
            <value>
                <elementReference>fRichTextLineBreak</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>LastName</field>
            <value>
                <elementReference>Recipient_Last_Name</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Sender_Email__c</field>
            <value>
                <elementReference>vSenderEmail</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Sender_First__c</field>
            <value>
                <elementReference>Sender_First_Name</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Sender_Last__c</field>
            <value>
                <elementReference>Sender_Last_Name</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Sender_Phone__c</field>
            <value>
                <elementReference>vSenderPhone</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Sender_Title__c</field>
            <value>
                <elementReference>Sender_Title</elementReference>
            </value>
        </inputAssignments>
        <object>Lead</object>
    </recordUpdates>
    <screens>
        <description>If the dupe check  returned positive</description>
        <name>Duplicate_Found</name>
        <label>Duplicate Found!</label>
        <locationX>322</locationX>
        <locationY>239</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <fields>
            <name>DupeWarning</name>
            <fieldText>This person has already been added to this campaign and cannot be added again. If you feel you&apos;ve received this message in error, contact your administrator.</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <description>page to enter in the actual email</description>
        <name>Edit_Initial_Email_Content</name>
        <label>Edit Initial Email Content</label>
        <locationX>1114</locationX>
        <locationY>52</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <connector>
            <targetReference>ContactOrLead2</targetReference>
        </connector>
        <fields>
            <name>EmailInstructions</name>
            <fieldText>Please feel free to add a personal message or edit the text below. Upon clicking &apos;Next&apos; the message will be sent to your customer and the customer will be enrolled to receive subsequent emails for this nurture campaign.</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <fields>
            <name>EmailSignature</name>
            <extensionName>c:richTextInputFSC</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputParameters>
                <name>myVal</name>
                <value>
                    <elementReference>ttLabelHTML</elementReference>
                </value>
            </inputParameters>
            <isRequired>true</isRequired>
            <outputParameters>
                <assignToReference>vRichTextOutput</assignToReference>
                <name>myVal</name>
            </outputParameters>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>Enter_Sender_Recipient_Information</name>
        <label>Enter Sender &amp; Recipient Information</label>
        <locationX>965</locationX>
        <locationY>52</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <connector>
            <targetReference>Edit_Initial_Email_Content</targetReference>
        </connector>
        <fields>
            <name>SenderInstructions</name>
            <fieldText>The following fields will be included in the email signature sent to your recipient. Updating the fields here will change the email signature. If the fields are erroneous in value, please contact your administrator to correct.</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <fields>
            <name>Sender_First_Name</name>
            <dataType>String</dataType>
            <defaultValue>
                <elementReference>vSenderFirst</elementReference>
            </defaultValue>
            <fieldText>Signature First Name</fieldText>
            <fieldType>InputField</fieldType>
            <isRequired>true</isRequired>
        </fields>
        <fields>
            <name>Sender_Last_Name</name>
            <dataType>String</dataType>
            <defaultValue>
                <elementReference>vSenderLast</elementReference>
            </defaultValue>
            <fieldText>Signature Last Name</fieldText>
            <fieldType>InputField</fieldType>
            <isRequired>true</isRequired>
        </fields>
        <fields>
            <name>Sender_Title</name>
            <dataType>String</dataType>
            <defaultValue>
                <elementReference>vSenderTitle</elementReference>
            </defaultValue>
            <fieldText>Signature Title</fieldText>
            <fieldType>InputField</fieldType>
            <isRequired>true</isRequired>
        </fields>
        <fields>
            <name>SignaturePhone</name>
            <extensionName>flowruntime:phone</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputParameters>
                <name>value</name>
                <value>
                    <elementReference>vSenderPhone</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>required</name>
                <value>
                    <booleanValue>false</booleanValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>label</name>
                <value>
                    <stringValue>Signature Phone</stringValue>
                </value>
            </inputParameters>
            <isRequired>true</isRequired>
            <outputParameters>
                <assignToReference>vSenderPhone</assignToReference>
                <name>value</name>
            </outputParameters>
        </fields>
        <fields>
            <name>LineBreaksDisplay</name>
            <fieldText>{!fLineBreak}
{!fLineBreak}</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <fields>
            <name>SignatureEmail</name>
            <extensionName>flowruntime:email</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputParameters>
                <name>label</name>
                <value>
                    <stringValue>Signature Email</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>required</name>
                <value>
                    <booleanValue>true</booleanValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>value</name>
                <value>
                    <elementReference>vSenderEmail</elementReference>
                </value>
            </inputParameters>
            <isRequired>true</isRequired>
            <outputParameters>
                <assignToReference>vSenderEmail</assignToReference>
                <name>value</name>
            </outputParameters>
        </fields>
        <fields>
            <name>RecipientInstructions</name>
            <fieldText>{!fLineBreak}
{!fLineBreak}
{!fLineBreak}
The following fields will be included in the emails to your customer. Updating the email address here will update the {!fLeadOrContact}.
{!fLineBreak}
{!fLineBreak}</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <fields>
            <name>AccountDisplay</name>
            <fieldText>Account: {!vAccountName}
{!fLineBreak}
{!fLineBreak}</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <fields>
            <name>Recipient_First_Name</name>
            <dataType>String</dataType>
            <defaultValue>
                <elementReference>vRecipientFirst</elementReference>
            </defaultValue>
            <fieldText>Recipient First Name</fieldText>
            <fieldType>InputField</fieldType>
            <isRequired>true</isRequired>
        </fields>
        <fields>
            <name>Recipient_Last_Name</name>
            <dataType>String</dataType>
            <defaultValue>
                <elementReference>vRecipientLast</elementReference>
            </defaultValue>
            <fieldText>Recipient Last Name</fieldText>
            <fieldType>InputField</fieldType>
            <isRequired>true</isRequired>
        </fields>
        <fields>
            <name>RecipientEmail</name>
            <extensionName>flowruntime:email</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputParameters>
                <name>label</name>
                <value>
                    <stringValue>Recipient Email</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>required</name>
                <value>
                    <booleanValue>true</booleanValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>value</name>
                <value>
                    <elementReference>vRecipientEmail</elementReference>
                </value>
            </inputParameters>
            <isRequired>true</isRequired>
            <outputParameters>
                <assignToReference>vRecipientEmail</assignToReference>
                <name>value</name>
            </outputParameters>
        </fields>
        <fields>
            <name>NextInstructions</name>
            <fieldText>{!fLineBreak}
Please proceed to the next page to edit the initial email body.
{!fLineBreak}
{!fLineBreak}</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <description>screen shown if the contact/lead</description>
        <name>ErrorScreen</name>
        <label>Error</label>
        <locationX>857</locationX>
        <locationY>399</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <fields>
            <name>BooleanDisplay</name>
            <fieldText>{!fErrorMessageToDisplay}</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <description>Error Messaging</description>
        <name>Failure</name>
        <label>Failure</label>
        <locationX>1591</locationX>
        <locationY>681</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <fields>
            <name>FailDisplay</name>
            <fieldText>Oops!

Something went wrong. Please inform your administrator.</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <description>Final success screen</description>
        <name>Success</name>
        <label>Success</label>
        <locationX>1914</locationX>
        <locationY>158</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <fields>
            <name>SuccessDisplay</name>
            <fieldText>That&apos;s it!

You have enrolled this {!fLeadOrContact} in the campaign. Click Finish to return to the record!</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <startElementReference>Dupe_Query</startElementReference>
    <status>Obsolete</status>
    <textTemplates>
        <description>The error description a user should see if the contact/lead is not US, USA, United States</description>
        <name>ttForeignCountryError</name>
        <isViewedAsPlainText>false</isViewedAsPlainText>
        <text>This campaign is only available to people based in United States. Due to regulations in other countries, the recipient must have given prior consent to receive commercial electronic messages or fines up to $10M per violation may be given. Please validate that your record is in the United States or contact your Salesforce administrator if you feel that you have received this in error.</text>
    </textTemplates>
    <textTemplates>
        <description>The error message that a user should see if any of the following criteria are met: opt out, sync with marketing is false, or bounced email is true</description>
        <name>ttInvalidOrOptOut</name>
        <isViewedAsPlainText>false</isViewedAsPlainText>
        <text>This {!fLeadOrContact} has either opted out of email or has an invalid email and is ineligible for this campaign.

If you feel that you have received this in error please contact your administrator.</text>
    </textTemplates>
    <textTemplates>
        <description>HTML from the label via the formula</description>
        <name>ttLabelHTML</name>
        <isViewedAsPlainText>false</isViewedAsPlainText>
        <text>{!fLeanHTMLLabel}</text>
    </textTemplates>
    <textTemplates>
        <description>default value of the email body</description>
        <name>ttSignature</name>
        <isViewedAsPlainText>false</isViewedAsPlainText>
        <text>{!Recipient_First_Name}&lt;br/&gt;&lt;br/&gt;
[Insert personal message]&lt;br/&gt;&lt;br/&gt;
&lt;p&gt;Taking a LEAN cleaning approach to your facility really pays off. &lt;/p&gt;&lt;br/&gt;
&lt;p&gt;It transforms your cleaning processes and products into a more efficient and attractive facility. And, it improves overall operations, boosts employee productivity and cuts cost.&lt;/p&gt;&lt;br/&gt;
&lt;p&gt;Curious how LEAN cleaning can do this for your facility?  &lt;a href=&quot;https://go.veritivcorp.com/rs/822-ZPW-685/images/Veritiv-LEAN-Why-LEAN-Is-New-Clean-Whitepaper-0319.pdf&quot;&gt;Download&lt;/a&gt; our LEAN whitepaper for details. &lt;/p&gt;&lt;br/&gt;


{!Sender_First_Name} {!Sender_Last_Name}&lt;br/&gt;
{!Sender_Title}&lt;br/&gt;
{!vSenderPhone}&lt;br/&gt;
&lt;a href = &quot;mailto:{!vSenderEmail}&quot;&gt;{!vSenderEmail}&lt;/a&gt;</text>
    </textTemplates>
    <variables>
        <description>Account name via field through lookup on the contact object or the account text field on the lead</description>
        <name>vAccountName</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <description>true false from the salesforce standard isemailbounced</description>
        <name>vBouncedBoolean</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <description>MailingCountry of the Contact and or lead. Only &apos;US, USA, or United States&apos; should be allowed</description>
        <name>vCountry</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <description>ID of the campaignmember object created</description>
        <name>vCreatedCampaignMemberID</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <description>id of the enrollment</description>
        <name>vCreatedEnrollment</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <description>The HasBounced__c field instead of salesforce&apos;s field</description>
        <name>vCustomBouncedBoolean</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <description>ID of the duplicate that has already been created</description>
        <name>vFoundPromoMemberId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <description>Date field variable required for lead since only a contact has the standard boolean</description>
        <name>vLeadBouncedDate</name>
        <dataType>Date</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <description>ID of the record that kicks off the entire process</description>
        <name>vLeadOrContactID</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <description>true or false of if the contact/lead has opted out of email</description>
        <name>vOptOutBoolean</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <description>email address of the recipient</description>
        <name>vRecipientEmail</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <description>first name of the recipient</description>
        <name>vRecipientFirst</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <description>Last name of the recipient</description>
        <name>vRecipientLast</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <description>Output of the rich text saved in the flow to be added to the enrollment</description>
        <name>vRichTextOutput</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <description>email of the sender</description>
        <name>vSenderEmail</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <description>first name of sender</description>
        <name>vSenderFirst</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <description>last name of sender</description>
        <name>vSenderLast</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <description>phone number of the sender</description>
        <name>vSenderPhone</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <description>Title of the sender</description>
        <name>vSenderTitle</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <description>TRUE/FALSE on the contact/lead to say whether or not the record syncs with Marketo. Don&apos;t allow to proceed if False.</description>
        <name>vSyncWithMarketingBoolean</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
</Flow>
